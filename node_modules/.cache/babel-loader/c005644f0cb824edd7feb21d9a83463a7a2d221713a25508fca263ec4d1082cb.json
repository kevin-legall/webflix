{"ast":null,"code":"var _jsxFileName = \"/Users/legallkevin/React/webflix_project/webflix/src/components/FetchMovies.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport MovieComponent from \"./MovieComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FetchMovies = () => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [genres, setGenres] = useState([]);\n  const [categoriesById, setCategoriesById] = useState({});\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [moviesResponse, genresResponse] = await Promise.all([axios.get('https://api.themoviedb.org/3/movie/popular', options), axios.get('https://api.themoviedb.org/3/genre/movie/list', options)]);\n        const genresData = genresResponse.data.genres.reduce((acc, genre) => {\n          acc[genre.id] = genre;\n          return acc;\n        }, {});\n        setMovies(moviesResponse.data.results);\n        setGenres(genresResponse.data.genres);\n        setCategoriesById(genresData);\n      } catch (error) {\n        console.error('Erreur lors de la récupération des données :', error);\n      }\n    };\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZWVjZTA4MDU3ZmVhMjRkNzI1ZGMyMTc1ZWZmOGY4NSIsInN1YiI6IjY0YzM2NmRkNDMyNTBmMDBlODA0NWFlMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fz8Zd74v5UOGKpBtBIdhelLPKM6ntHVrGQNS1yBU1kk'\n      }\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(MovieComponent, {\n        movie: movie,\n        categoriesById: categoriesById\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(FetchMovies, \"DAHKc/NfkBKfTMnVfbFS0BK/RWs=\");\n_c = FetchMovies;\nexport default FetchMovies;\nvar _c;\n$RefreshReg$(_c, \"FetchMovies\");","map":{"version":3,"names":["React","useEffect","useState","axios","MovieComponent","jsxDEV","_jsxDEV","FetchMovies","_s","movies","setMovies","genres","setGenres","categoriesById","setCategoriesById","fetchData","moviesResponse","genresResponse","Promise","all","get","options","genresData","data","reduce","acc","genre","id","results","error","console","method","headers","accept","Authorization","children","map","movie","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/legallkevin/React/webflix_project/webflix/src/components/FetchMovies.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport MovieComponent from \"./MovieComponent\";\nimport { Movie } from \"../models/Movie\";\nimport { Genre } from \"../models/Genre\";\nimport GenreComponent from \"./GenreComponent\";\n\nconst FetchMovies: React.FC = () => {\n\n    const [movies, setMovies] = useState<Movie[]>([]);\n    const [genres, setGenres] = useState<Genre[]>([]);\n    const [categoriesById, setCategoriesById] = useState<{ [key: number]: Genre }>({});\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const [moviesResponse, genresResponse] = await Promise.all([\n                    axios.get('https://api.themoviedb.org/3/movie/popular', options),\n                    axios.get('https://api.themoviedb.org/3/genre/movie/list', options),\n                ]);\n\n                const genresData = genresResponse.data.genres.reduce((acc: { [key: number]: Genre }, genre: Genre) => {\n                    acc[genre.id] = genre;\n                    return acc;\n                }, {});\n\n                setMovies(moviesResponse.data.results);\n                setGenres(genresResponse.data.genres);\n                setCategoriesById(genresData);\n            } catch (error) {\n                console.error('Erreur lors de la récupération des données :', error);\n            }\n        };\n\n        const options = {\n            method: 'GET',\n            headers: {\n                accept: 'application/json',\n                Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZWVjZTA4MDU3ZmVhMjRkNzI1ZGMyMTc1ZWZmOGY4NSIsInN1YiI6IjY0YzM2NmRkNDMyNTBmMDBlODA0NWFlMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fz8Zd74v5UOGKpBtBIdhelLPKM6ntHVrGQNS1yBU1kk'\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    return (\n        <div>\n            <ul>\n                {\n                    movies.map((movie: Movie) => (\n                        <MovieComponent key={movie.id} movie={movie} categoriesById={categoriesById} />\n                    ))\n                }\n            </ul>\n        </div>\n    );\n};\n\nexport default FetchMovies;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAK9C,MAAMC,WAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEhC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAU,EAAE,CAAC;EACjD,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAU,EAAE,CAAC;EACjD,MAAM,CAACW,cAAc,EAAEC,iBAAiB,CAAC,GAAGZ,QAAQ,CAA2B,CAAC,CAAC,CAAC;EAElFD,SAAS,CAAC,MAAM;IACZ,MAAMc,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAM,CAACC,cAAc,EAAEC,cAAc,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACvDhB,KAAK,CAACiB,GAAG,CAAC,4CAA4C,EAAEC,OAAO,CAAC,EAChElB,KAAK,CAACiB,GAAG,CAAC,+CAA+C,EAAEC,OAAO,CAAC,CACtE,CAAC;QAEF,MAAMC,UAAU,GAAGL,cAAc,CAACM,IAAI,CAACZ,MAAM,CAACa,MAAM,CAAC,CAACC,GAA6B,EAAEC,KAAY,KAAK;UAClGD,GAAG,CAACC,KAAK,CAACC,EAAE,CAAC,GAAGD,KAAK;UACrB,OAAOD,GAAG;QACd,CAAC,EAAE,CAAC,CAAC,CAAC;QAENf,SAAS,CAACM,cAAc,CAACO,IAAI,CAACK,OAAO,CAAC;QACtChB,SAAS,CAACK,cAAc,CAACM,IAAI,CAACZ,MAAM,CAAC;QACrCG,iBAAiB,CAACQ,UAAU,CAAC;MACjC,CAAC,CAAC,OAAOO,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,8CAA8C,EAAEA,KAAK,CAAC;MACxE;IACJ,CAAC;IAED,MAAMR,OAAO,GAAG;MACZU,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1BC,aAAa,EAAE;MACnB;IACJ,CAAC;IAEDnB,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIT,OAAA;IAAA6B,QAAA,eACI7B,OAAA;MAAA6B,QAAA,EAEQ1B,MAAM,CAAC2B,GAAG,CAAEC,KAAY,iBACpB/B,OAAA,CAACF,cAAc;QAAgBiC,KAAK,EAAEA,KAAM;QAACxB,cAAc,EAAEA;MAAe,GAAvDwB,KAAK,CAACV,EAAE;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAiD,CACjF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEd,CAAC;AAACjC,EAAA,CAjDID,WAAqB;AAAAmC,EAAA,GAArBnC,WAAqB;AAmD3B,eAAeA,WAAW;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}