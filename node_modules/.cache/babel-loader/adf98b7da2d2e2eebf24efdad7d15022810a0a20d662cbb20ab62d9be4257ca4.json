{"ast":null,"code":"var _jsxFileName = \"/Users/legallkevin/React/webflix_project/webflix/src/components/FetchMovies.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport MovieComponent from \"./MovieComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FetchMovies = () => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [genres, setGenres] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [moviesResponse, genresResponse] = await Promise.all([axios.get('https://api.themoviedb.org/3/movie/popular', options), axios.get('https://api.themoviedb.org/3/genre/movie/list', options)]);\n        setMovies(moviesResponse.data.results);\n        setGenres(genresResponse.data.genres);\n      } catch (error) {\n        console.error('Erreur lors de la récupération des données :', error);\n      }\n    };\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZWVjZTA4MDU3ZmVhMjRkNzI1ZGMyMTc1ZWZmOGY4NSIsInN1YiI6IjY0YzM2NmRkNDMyNTBmMDBlODA0NWFlMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fz8Zd74v5UOGKpBtBIdhelLPKM6ntHVrGQNS1yBU1kk'\n      }\n    };\n    fetchData();\n    if (movies.length > 0 && genres.length > 0) {\n      genres.forEach(genre => {\n        movies.filter(movie => {\n          var _movie$genres_ids$inc, _movie$genres_ids;\n          if ((_movie$genres_ids$inc = (_movie$genres_ids = movie.genres_ids) === null || _movie$genres_ids === void 0 ? void 0 : _movie$genres_ids.includes(genre.id)) !== null && _movie$genres_ids$inc !== void 0 ? _movie$genres_ids$inc : \"Y'a rien batard\") {\n            console.log(\"BRAVOOOOOOO\");\n            movie.genres.push(genre);\n          }\n          return null; // Ajoutez un return ici pour éviter les avertissements sur les fonctions sans valeur de retour\n        });\n      });\n    }\n  }, [movies, genres]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(MovieComponent, {\n        movie: movie\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_s(FetchMovies, \"dsDHCPxvk/Mc3tYROhKco2vZgWk=\");\n_c = FetchMovies;\nexport default FetchMovies;\nvar _c;\n$RefreshReg$(_c, \"FetchMovies\");","map":{"version":3,"names":["React","useEffect","useState","axios","MovieComponent","jsxDEV","_jsxDEV","FetchMovies","_s","movies","setMovies","genres","setGenres","fetchData","moviesResponse","genresResponse","Promise","all","get","options","data","results","error","console","method","headers","accept","Authorization","length","forEach","genre","filter","movie","_movie$genres_ids$inc","_movie$genres_ids","genres_ids","includes","id","log","push","children","map","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/legallkevin/React/webflix_project/webflix/src/components/FetchMovies.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from \"axios\";\nimport MovieComponent from \"./MovieComponent\";\nimport { Movie } from \"../models/Movie\";\nimport { Genre } from \"../models/Genre\";\n\nconst FetchMovies = () => {\n\n    const [movies, setMovies] = useState<Movie[]>([]);\n    const [genres, setGenres] = useState<Genre[]>([]);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const [moviesResponse, genresResponse] = await Promise.all([\n                    axios.get('https://api.themoviedb.org/3/movie/popular', options),\n                    axios.get('https://api.themoviedb.org/3/genre/movie/list', options),\n                ]);\n\n                setMovies(moviesResponse.data.results);\n                setGenres(genresResponse.data.genres);\n            } catch (error) {\n                console.error('Erreur lors de la récupération des données :', error);\n            }\n        };\n\n        const options = {\n            method: 'GET',\n            headers: {\n                accept: 'application/json',\n                Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZWVjZTA4MDU3ZmVhMjRkNzI1ZGMyMTc1ZWZmOGY4NSIsInN1YiI6IjY0YzM2NmRkNDMyNTBmMDBlODA0NWFlMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fz8Zd74v5UOGKpBtBIdhelLPKM6ntHVrGQNS1yBU1kk'\n            }\n        };\n\n        fetchData();\n\n        if (movies.length > 0 && genres.length > 0) {\n            genres.forEach((genre) => {\n                movies.filter((movie) => {\n                    if (movie.genres_ids?.includes(genre.id) ?? \"Y'a rien batard\") {\n                        console.log(\"BRAVOOOOOOO\")\n                        movie.genres.push(genre);\n                    }\n                    return null; // Ajoutez un return ici pour éviter les avertissements sur les fonctions sans valeur de retour\n                });\n            });\n        }\n    }, [movies, genres]);\n\n    return (\n        <div>\n            <ul>\n                {\n                    movies.map((movie: Movie) => (\n                        <MovieComponent key={movie.id} movie={movie} />\n                    ))\n                }\n            </ul>\n        </div>\n    );\n};\n\nexport default FetchMovies;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAI9C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEtB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAU,EAAE,CAAC;EACjD,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAU,EAAE,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACZ,MAAMY,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAM,CAACC,cAAc,EAAEC,cAAc,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACvDd,KAAK,CAACe,GAAG,CAAC,4CAA4C,EAAEC,OAAO,CAAC,EAChEhB,KAAK,CAACe,GAAG,CAAC,+CAA+C,EAAEC,OAAO,CAAC,CACtE,CAAC;QAEFT,SAAS,CAACI,cAAc,CAACM,IAAI,CAACC,OAAO,CAAC;QACtCT,SAAS,CAACG,cAAc,CAACK,IAAI,CAACT,MAAM,CAAC;MACzC,CAAC,CAAC,OAAOW,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,8CAA8C,EAAEA,KAAK,CAAC;MACxE;IACJ,CAAC;IAED,MAAMH,OAAO,GAAG;MACZK,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1BC,aAAa,EAAE;MACnB;IACJ,CAAC;IAEDd,SAAS,CAAC,CAAC;IAEX,IAAIJ,MAAM,CAACmB,MAAM,GAAG,CAAC,IAAIjB,MAAM,CAACiB,MAAM,GAAG,CAAC,EAAE;MACxCjB,MAAM,CAACkB,OAAO,CAAEC,KAAK,IAAK;QACtBrB,MAAM,CAACsB,MAAM,CAAEC,KAAK,IAAK;UAAA,IAAAC,qBAAA,EAAAC,iBAAA;UACrB,KAAAD,qBAAA,IAAAC,iBAAA,GAAIF,KAAK,CAACG,UAAU,cAAAD,iBAAA,uBAAhBA,iBAAA,CAAkBE,QAAQ,CAACN,KAAK,CAACO,EAAE,CAAC,cAAAJ,qBAAA,cAAAA,qBAAA,GAAI,iBAAiB,EAAE;YAC3DV,OAAO,CAACe,GAAG,CAAC,aAAa,CAAC;YAC1BN,KAAK,CAACrB,MAAM,CAAC4B,IAAI,CAACT,KAAK,CAAC;UAC5B;UACA,OAAO,IAAI,CAAC,CAAC;QACjB,CAAC,CAAC;MACN,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAACrB,MAAM,EAAEE,MAAM,CAAC,CAAC;EAEpB,oBACIL,OAAA;IAAAkC,QAAA,eACIlC,OAAA;MAAAkC,QAAA,EAEQ/B,MAAM,CAACgC,GAAG,CAAET,KAAY,iBACpB1B,OAAA,CAACF,cAAc;QAAgB4B,KAAK,EAAEA;MAAM,GAAvBA,KAAK,CAACK,EAAE;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAiB,CACjD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEd,CAAC;AAACrC,EAAA,CAtDID,WAAW;AAAAuC,EAAA,GAAXvC,WAAW;AAwDjB,eAAeA,WAAW;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}