{"ast":null,"code":"var _jsxFileName = \"/Users/legallkevin/React/webflix_project/webflix/src/components/FetchMovies.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport MovieComponent from \"./MovieComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FetchMovies = ({\n  genre\n}) => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [genres, setGenres] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [moviesResponse, genresResponse] = await Promise.all([axios.get('https://api.themoviedb.org/3/movie/popular', options), axios.get('https://api.themoviedb.org/3/genre/movie/list', options)]);\n        setMovies(moviesResponse.data.results);\n        setGenres(genresResponse.data.genres);\n      } catch (error) {\n        console.error('Erreur lors de la récupération des données :', error);\n      }\n    };\n    const options = {\n      method: 'GET',\n      headers: {\n        accept: 'application/json',\n        Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZWVjZTA4MDU3ZmVhMjRkNzI1ZGMyMTc1ZWZmOGY4NSIsInN1YiI6IjY0YzM2NmRkNDMyNTBmMDBlODA0NWFlMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fz8Zd74v5UOGKpBtBIdhelLPKM6ntHVrGQNS1yBU1kk'\n      }\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(MovieComponent, {\n        genre: genre,\n        movie: movie\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(FetchMovies, \"dsDHCPxvk/Mc3tYROhKco2vZgWk=\");\n_c = FetchMovies;\nexport default FetchMovies;\nvar _c;\n$RefreshReg$(_c, \"FetchMovies\");","map":{"version":3,"names":["React","useEffect","useState","axios","MovieComponent","jsxDEV","_jsxDEV","FetchMovies","genre","_s","movies","setMovies","genres","setGenres","fetchData","moviesResponse","genresResponse","Promise","all","get","options","data","results","error","console","method","headers","accept","Authorization","children","map","movie","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/legallkevin/React/webflix_project/webflix/src/components/FetchMovies.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from \"axios\";\nimport MovieComponent from \"./MovieComponent\";\nimport { Movie } from \"../models/Movie\";\nimport { Genre } from \"../models/Genre\";\n\nconst FetchMovies = ({genre}:Props) => {\n\n    const [movies, setMovies] = useState<Movie[]>([]);\n    const [genres, setGenres] = useState<Genre[]>([]);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const [moviesResponse, genresResponse] = await Promise.all([\n                    axios.get('https://api.themoviedb.org/3/movie/popular', options),\n                    axios.get('https://api.themoviedb.org/3/genre/movie/list', options),\n                ]);\n\n                setMovies(moviesResponse.data.results);\n                setGenres(genresResponse.data.genres);\n            } catch (error) {\n                console.error('Erreur lors de la récupération des données :', error);\n            }\n        };\n\n        const options = {\n            method: 'GET',\n            headers: {\n                accept: 'application/json',\n                Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZWVjZTA4MDU3ZmVhMjRkNzI1ZGMyMTc1ZWZmOGY4NSIsInN1YiI6IjY0YzM2NmRkNDMyNTBmMDBlODA0NWFlMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fz8Zd74v5UOGKpBtBIdhelLPKM6ntHVrGQNS1yBU1kk'\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    return (\n        <div>\n            <ul>\n                {\n                    movies.map((movie: Movie) => (\n                        <MovieComponent key={movie.id} genre={genre} movie={movie} />\n                    ))\n                }\n            </ul>\n        </div>\n    );\n};\n\nexport default FetchMovies;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,cAAc,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAI9C,MAAMC,WAAW,GAAGA,CAAC;EAACC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAEnC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAU,EAAE,CAAC;EACjD,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAU,EAAE,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACZ,MAAMa,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,MAAM,CAACC,cAAc,EAAEC,cAAc,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACvDf,KAAK,CAACgB,GAAG,CAAC,4CAA4C,EAAEC,OAAO,CAAC,EAChEjB,KAAK,CAACgB,GAAG,CAAC,+CAA+C,EAAEC,OAAO,CAAC,CACtE,CAAC;QAEFT,SAAS,CAACI,cAAc,CAACM,IAAI,CAACC,OAAO,CAAC;QACtCT,SAAS,CAACG,cAAc,CAACK,IAAI,CAACT,MAAM,CAAC;MACzC,CAAC,CAAC,OAAOW,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,8CAA8C,EAAEA,KAAK,CAAC;MACxE;IACJ,CAAC;IAED,MAAMH,OAAO,GAAG;MACZK,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1BC,aAAa,EAAE;MACnB;IACJ,CAAC;IAEDd,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIR,OAAA;IAAAuB,QAAA,eACIvB,OAAA;MAAAuB,QAAA,EAEQnB,MAAM,CAACoB,GAAG,CAAEC,KAAY,iBACpBzB,OAAA,CAACF,cAAc;QAAgBI,KAAK,EAAEA,KAAM;QAACuB,KAAK,EAAEA;MAAM,GAArCA,KAAK,CAACC,EAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAA+B,CAC/D;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEd,CAAC;AAAC3B,EAAA,CA1CIF,WAAW;AAAA8B,EAAA,GAAX9B,WAAW;AA4CjB,eAAeA,WAAW;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}